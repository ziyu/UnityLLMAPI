# Changelog
本文档记录了此项目的所有重要变更。

格式基于[Keep a Changelog](http://keepachangelog.com/en/1.0.0/)，
版本号遵循[Semantic Versioning](http://semver.org/spec/v2.0.0.html)。

## [1.2.0] - 2024-11-12
### 新增
- 状态管理增强
  - 新增状态变更事件系统
  - 支持外部订阅状态变更
  - 提供实时状态查询接口
- 消息状态追踪
  - 支持获取单个消息状态
  - 支持获取所有pending消息
  - 优化状态更新机制
- 中断恢复机制
  - 异步中断恢复支持
  - 支持取消恢复操作
  - 智能状态恢复处理
- 改进的状态管理
  - 更精确的状态转换
  - 状态变更事件参数封装
  - 会话级别状态同步

### 优化
- 重构状态管理系统
  - 分离状态变更事件逻辑
  - 优化状态更新流程
  - 改进状态一致性
- 改进代码结构
  - 更清晰的接口定义
  - 更好的封装性
  - 提高代码可维护性
- 重构响应处理
  - 统一的工具调用处理
  - 优化异步操作流程
  - 改进错误处理机制

## [1.1.0] - 2024-11-10
### 新增
- ChatBot实现
  - ChatbotService封装
  - 对话历史管理
  - 系统提示词配置
  - 灵活的配置选项
- Tool Calling功能支持
  - 支持定义和执行自定义工具
  - 工具调用权限控制
  - 工具执行结果处理
- 流式响应支持
  - 实时获取API响应内容
  - 支持UI实时更新
  - 支持取消操作

### 优化
- 重构代码结构，提高可维护性
  - 分离服务层和工具层
  - 优化接口设计
  - 改进异常处理机制
- 改进错误处理
  - 更详细的错误信息
  - 分类异常处理
  - 完善日志系统

### 修复
- 修复长文本响应可能的截断问题
- 修复并发请求的潜在问题
- 修复JSON解析的边界情况

## [1.0.0] - 2024-11-10
### 新增
- 初始版本发布
- OpenAI API集成
  - Chat Completion API支持
  - 完整的请求/响应模型
  - API配置管理
- 基础功能实现
  - 异步操作支持
  - 消息历史管理
  - 配置系统
- 错误处理
  - 异常类型定义
  - 错误信息本地化
  - 日志记录
- 文档
  - API文档
  - 使用示例
  - 安装指南
- 示例场景
  - 基础聊天示例
  - 配置示例
